<!DOCTYPE html>
<html>
<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
    	//hr : 부서별 인원정보
    	 let xhtp = new XMLHttpRequest();
    	xhtp.open ('get','../GetScheduleServlet')
    	xhtp.send();
    	xhtp.onload=function(){
    		let obj = JSON.parse(xhtp.responseText);
    		console.log(obj);
    		let result = [
      	          ['Dept', 'Member per Dept'],
      	       
      	        ];
				  for(let field in obj){
					  let ary = [];
					  ary.push(field);
					  ary.push(obj[field]);
					  result.push(ary);
				  }
				  console.log(result);
    		google.charts.load('current', {'packages':['corechart']});
    	      google.charts.setOnLoadCallback(drawChart);

    	      function drawChart() {

    	        var data = google.visualization.arrayToDataTable(result);

    	        var options = {
    	          title: 'Member per Department'
    	        };

    	        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

    	        chart.draw(data, options);
    	      }
    	}
    
    
      
    </script>
  </head>
  <body>
    <div id="piechart" style="width: 900px; height: 500px;"></div>
  </body>
</html>